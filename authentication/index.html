<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-gb">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title>Authentication - Parcel2Go API Docs</title>
    <meta name="generator" content="Hugo 0.18.1" />

    
    <meta name="description" content="Parcel2Go documentation">
    
    <link rel="canonical" href="https://parcel2go.github.io/authentication/">
    
    <meta name="author" content="Parcel2Go">
    

    <meta property="og:url" content="https://parcel2go.github.io/authentication/">
    <meta property="og:title" content="Parcel2Go API Docs">
    
    <meta name="apple-mobile-web-app-title" content="Parcel2Go API Docs">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="https://parcel2go.github.io/images/favicon.ico">
    <link rel="icon" type="image/x-icon" href="https://parcel2go.github.io/images/favicon.ico">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('https://parcel2go.github.io/fonts/icon.eot');
        src: url('https://parcel2go.github.io/fonts/icon.eot')
               format('embedded-opentype'),
             url('https://parcel2go.github.io/fonts/icon.woff')
               format('woff'),
             url('https://parcel2go.github.io/fonts/icon.ttf')
               format('truetype'),
             url('https://parcel2go.github.io/fonts/icon.svg')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="https://parcel2go.github.io/stylesheets/application.css">
    <link rel="stylesheet" href="https://parcel2go.github.io/stylesheets/temporary.css">
    <link rel="stylesheet" href="https://parcel2go.github.io/stylesheets/palettes.css">
    <link rel="stylesheet" href="https://parcel2go.github.io/stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:400,700|Roboto&#43;Mono">
    <style>
      body, input {
        font-family: 'Roboto', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Roboto Mono', 'Courier New', 'Courier', monospace;
      }
    </style>

    
    <script src="https://parcel2go.github.io/javascripts/modernizr.js"></script>

    

  </head>
  <body class="palette-primary-blue palette-accent-light-blue">




<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        Authentication
      </div>
    </div>

    

    
    
        
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">
  <a href="https://parcel2go.github.io" class="project">
    <div class="banner">
      
      <div class="name">
        <strong>Parcel2Go API Docs </strong>
        
      </div>
    </div>
  </a>

  <div class="scrollable">
    <div class="wrapper">
      

      <div class="toc">
        
        <ul>
          




<li>
  
    



<a  title="Home" href="/">
	
	Home
</a>



  
</li>



<li>
  
    



<a class="current" title="Authentication" href="/authentication/">
	
	Authentication
</a>


<ul id="scrollspy">
</ul>


  
</li>



<li>
  
    



<a  title="Orders" href="/orders/">
	
	Orders
</a>



  
</li>



<li>
  
    



<a  title="International Orders" href="/help/international-orders/">
	
	International Orders
</a>



  
</li>


        </ul>
        

        
        <hr>
        <span class="section">The author</span>
        
        <ul>
          

          

          
        </ul>
        
      </div>
    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">
			<h1>Authentication </h1>

			

<p>Before you can start using the Parcel2Go APIs you need to configure an authentication method.  Parcel2Go APIs use the <a href="https://tools.ietf.org/html/rfc6749">OAuth2</a> protocol for authentication which conforms to the <a href="http://openid.net/connect/">OpenID Connect</a> specifcation.  There are several types of OAuth 2.0 authentication scenarios, the common ones are detailed below.  There are also several levels of access which are controlled using the <a href="#Scopes">scope parameter</a> which is specified when requesting access tokens.</p>

<h3 id="client-credentials">Client Credentials</h3>

<p>You will be assigned a client id and sercret which you can then exchange for an access token using the authorisation endpoint; The access token is then used in the Authorization header when making HTTP calls to the API.</p>

<ul>
<li>Clients using this method must be able to maintain a secret (not suitable for client side code).</li>
<li>Does not provide payment scope for customers account</li>
<li>Payments can be configured against clients account</li>
<li>Tokens have an expiry time</li>
</ul>

<p>This method is ideal when the client will be communication server to server and the payment scope is not required or all payments will be comining from the hosts account.</p>

<h3 id="example-token-request">Example Token Request</h3>

<pre><code class="language-curl">curl --request POST \
  --url https://www.parcel2go.com/auth/connect/token \
  --header 'content-type: application/x-www-form-urlencoded' \
  --data 'grant_type=client_credentials&amp;scope=public-api&amp;client_id={YOUR CLIENTID}&amp;client_secret={YOUR CLIENT SECRET}'
</code></pre>

<h3 id="example-response">Example Response</h3>

<pre><code class="language-json">{
	&quot;access_token&quot;: &quot;abef.....&quot;,
	&quot;expires_in&quot;: 7200,
	&quot;token_type&quot;: &quot;Bearer&quot;
}

</code></pre>

<p>The access_token here can now be used in HTTP requests to the api by specifying a bearer token header.</p>

<pre><code class="language-curl">curl -X GET --header 'Accept: application/json' 'Authorization: Bearer abef..' 'https://www.parcel2go.com/api/services'


</code></pre>

<h3 id="implicit">Implicit</h3>

<p>You will redirect the user to our authorisation endpoint where the user will login and get redirected back to your site.  The access token will be included in the redirect url.</p>

<ul>
<li>Provides greater level of access (payment scope)</li>
<li>Return URLs are part of the authentication so must be registered</li>
<li>No secret</li>
<li>Users have to log in</li>
<li>Users can revoke the access token</li>
<li>Tokens have a short lived expiry date</li>
</ul>

<p>This flow is ideal for clients which want to intergrate with a customers parcel2go account and allow the customer to pay for their own orders.</p>

<h3 id="example-authorize-redirect">Example authorize redirect</h3>

<pre><code class="language-http">
GET /auth/connect/authorize
?client_id=example
&amp;redirect_uri=http%3A%2F%2Fwww.example.com%2Freturn 
&amp;response_type=token
&amp;scope=openid+public-api 
HTTP/1.1

Host: www.parcel2go.com

</code></pre>

<h3 id="example-authorize-return-url">Example authorize return url</h3>

<pre><code class="language-http">GET /return
?access_token=xxxxxxx...
&amp;token_type=Bearer
&amp;expires_in=7200
HTTP/1.1

Host:www.example.com

</code></pre>

<h2 id="scopes">Scopes</h2>

<p>The following custom scopes are provided in addition to the default OAuth 2.0 scopes.</p>

<ul>
<li>public-api - This is basic scope required for any api call</li>
<li>payment - This scope is required in order to make payments on behalf of a customer using their stored payment methods.</li>
</ul>

<h2 id="requesting-a-client-id">Requesting a Client Id</h2>

<p>To request access credentials please send an email to <a href="mailto:apihelp@parcel2go.com">apihelp@parcel2go.com</a> with details on how you wish to use the API and which authentication method above you would like to use.  If you want to use the implicit flow, please give a list of URLS which you would like to use for the return url.</p>


			<aside class="copyright" role="note">
				
				&copy; 2017 Parcel2Go &ndash;
				
				Documentation built with
				<a href="https://www.gohugo.io" target="_blank">Hugo</a>
				using the
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">Material</a> theme.
			</aside>

			<footer class="footer">
				

<nav class="pagination" aria-label="Footer">
  <div class="previous">
  
  </div>

  <div class="next">
  
      <a href="https://parcel2go.github.io/authentication/" title="Authentications">
        <span class="direction">
          Next
        </span>
        <div class="page">
          <div class="stretch">
            <div class="title">
              Authentications
            </div>
          </div>
          <div class="button button-next" role="button" aria-label="Next">
            <i class="icon icon-forward"></i>
          </div>
        </div>
      </a>
  
  </div>
</nav>





			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = '';
      var repo_id  = '';
    
    </script>

    <script src="https://parcel2go.github.io/javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(scrollspy) {
        if(headers.length > 0) {
          for(var i = 0; i < headers.length; i++) {
            var li = document.createElement("li");
            li.setAttribute("class", "anchor");

            var a  = document.createElement("a");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", headers[i].innerHTML);
            a.innerHTML = headers[i].innerHTML;

            li.appendChild(a)
            scrollspy.appendChild(li);
          }
        } else {
          scrollspy.parentElement.removeChild(scrollspy)
        }


        /* Add permanent link next to the headers */
        var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

        for(var i = 0; i < headers.length; i++) {
            var a = document.createElement("a");
            a.setAttribute("class", "headerlink");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", "Permanent link")
            a.innerHTML = "Â¶";
            headers[i].appendChild(a);
        }
      }
    </script>

    

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

